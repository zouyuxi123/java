<div class="promotion" >
	<!-- banner-->
	<section class="bannerarea">
		<div class="bannerimg"><img src="images/show/suyun/banner.png" class="img-responsive" alt="Responsive image"></div>
	</section>
	<!-- maincontent-->
	<section class="container">
		<div ng-controller="ctrlRead">
			<table class="table table-striped table-condensed table-hover">
				<tbody>
					<div class="activitybox row">
						<div class="areatitle">
							<h2 class="text-left"><span class="title">活动促销</span></h2>
							<p class="english"><span class="subtitle">ACTIVITY PROMOTION</span></p>
							<ul class="list-inline">
								<li class="active">全国</li>
								<li>华中</li>
								<li>华南</li>
								<li>华北</li>
							</ul>
						</div>
							<div id="showPromotion"></div>
					</div>
				</tbody>
			</table>	
			<!--  分页按钮 -->
				<div id="page" class="m-pagination"></div>
		</div>
	</section>
</div>

<script src="js/self/page.js"></script>
<link href="js/pagination/mricode.pagination.css" rel="stylesheet" />
<script type="text/javascript" src="js/pagination/mricode.pagination.js"></script>
<script type="text/javascript" src="js/date.js"></script>
<script type="text/javascript">
$(function(){
	
	$("#page").pagination({
	    pageSize: 4,
	    remote: {		
	        url: 'promotionl/listByPage',
	        success: function (data) {
	            // data为ajax返回数据
	            //清除div
	            $("#showPromotion").empty();
	           $(data.list).each(function(){
	        	   $("#showPromotion").append("<div class=\"col-sm-6 col-md-3\" ng-repeat=\"item in pageItems\"> "+
					"<div class=\"thumbnail\">"+
					"<img src=\""+this.titleImg+"\" alt=\"活动一\">"+
					"<div class=\"caption\">"+
					"<p><a href=\"#/promotion_detail\" ng-click=\"showDetail(item)\">"+this.title+"</a></p>"+
					"<p class=\"text-right status\">"+
				    "<span ng-show=\"item.status == '1'\">进行中</span>"+
					"<span ng-show=\"item.status == '2'\">已结束</span>"+
					"</p>"+
					"<p class=\"text-right grey\">"+dateFormat(this.startDate)+"—"+dateFormat(this.endDate)+"</p>"+
					"<p class=\"text-right grey\">"+this.activeScope+"</p>"+
					"</div>"+
				"</div>"+
			"</div>");
	           }) 
	        },
	        totalName:'total'
	    }
	});
	
})
</script>